# configure for boost compile
# curl -OL http://pdi3zh561.bkt.clouddn.com/libs/boost_1_68_0.tar.bz2

PATH_CUR=`pwd`
PATH_LIB=$PATH_CUR/lib
PATH_BOOST=$PATH_LIB/boost

if [ ! -d $PATH_LIB ] ; then
    mkdir -p $PATH_LIB
fi

#boost
if [ ! -d $PATH_BOOST ] ; then
    cd $PATH_LIB && \
        # git clone -b boost-1.68.0 https://github.com/boostorg/boost.git && \
        # git submodule update --init --recursive
        curl -OL https://dl.bintray.com/boostorg/release/1.68.0/source/boost_1_68_0.tar.bz2 && \
        mkdir ./boost && tar -jvxf boost_1_68_0.tar.bz2 -C ./boost --strip-components 1 && \
        rm -rf boost_1_68_0.tar.bz2
fi

if [ ! -d $PATH_BOOST/prefix ] ; then
    cd $PATH_BOOST && \
        ./bootstrap.sh && \
        ./b2 install variant=release link=static threading=multi runtime-link=shared \
            --prefix=$PATH_BOOST/prefix
fi
